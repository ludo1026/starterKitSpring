#set( $_ = "$" )
#set( $deletecall = "" )
#set( $deleteparameters = "" )
#set( $urlparameters = "" )
#if ( $beanClass.hasCompositePrimaryKey() )
  #foreach( $field in $beanClass.keyAttributes )
	#if ( $deletecall != "" )
		#set( $deletecall = "${deletecall}, " )
	#end
	#if ( $deleteparameters != "" )
		#set( $deleteparameters = "${deleteparameters}, " )
	#end
	#if ( $urlparameters != "" )
		#set( $urlparameters = "${urlparameters} + '${AMP}' + " )
	#end
	
	#set( $deletecall = "${deletecall}'${field.name}' />'" )
	#set( $deleteparameters = "${deleteparameters}${field.name}in" )
	#set( $urlparameters = "${urlparameters}'restid.${field.name}=' + ${field.name}in" )
  #end
#else
	#set( $keyattribute = "current." + ${beanClass.keyAttributes.get(0).formatedName(0)} )
	#set( $deletecall = "'${${keyattribute}}'" )
	#set( $deleteparameters = "xxx" )
	#set( $deleteparameters = "id${beanClass.name.toLowerCase()}" )
	#set( $urlparameters = "xxx" )
#end
#if ( $beanClass.hasCompositePrimaryKey() )
#set( $keyType = "${beanClass.name}Key" )
#set( $keyName = "id" )
#set( $keyURLPath = "")
#foreach( $field in $entity.keyAttributes )
#if( $field.isKeyElement() )
#set( $keyURLPath = $keyURLPath+"/${"+$keyName+"."+${field.formatedName(0)}+"}" )
#end
#end
#else
#foreach( $field in $entity.keyAttributes )
#set( $keyType = "$field.wrapperType" )
#set( $keyName = "$field.formatedName(0)" )
#set( $keyURLPath = "/${"+${field.formatedName(0)}+"}" )
#end
#end
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<html xmlns:jsp="http://java.sun.com/JSP/Page" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:s="http://www.springframework.org/tags" xmlns:form="http://www.springframework.org/tags/form" version="2.0">
<jsp:output doctype-root-element="HTML" doctype-system="about:legacy-compat" />
<jsp:directive.page contentType="text/html;charset=UTF-8" />
<jsp:directive.page pageEncoding="UTF-8" />
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=8" />
		<title>${beanClass.name}Store</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="${beanClass.name}" />
	
		<!-- style -->
		<s:url value="/css/bootstrap-responsive.min.css" var="css_url_bootstrap_responsive" />
		<s:url value="/css/bootstrap.min.css" var="css_url_bootstrap" />
		<s:url value="/css/styles.css" var="css_url_styles" />
		<link href="${_}{css_url_bootstrap_responsive}" rel="stylesheet"  type="text/css" />
		<link href="${_}{css_url_bootstrap}" rel="stylesheet"  type="text/css" />
		<link href="${_}{css_url_styles}" rel="stylesheet"  type="text/css" />
		<style>
			body {
				padding-top: 60px;
				/* 60px to make the container go all the way to the bottom of the topbar */
			}
		</style>
		
		<!-- javascript -->
		<s:url value="/js/validation.js" var="js_url_validation" />
		<s:url value="/js/jquery.js" var="js_url_jquery" />
		<s:url value="/js/bootstrap.js" var="js_url_bootstrap" />
		<script type="text/javascript" src="${_}{js_url_validation}"></script>
		<script type="text/javascript" src="${_}{js_url_jquery}"></script>
		<script type="text/javascript" src="${_}{js_url_bootstrap}"></script>
		<script language="JavaScript" type="text/javascript">//</script>
	</head>

	<body>
	    <div class="navbar navbar-fixed-top">
	      <div class="navbar-inner">
	        <div class="container">
	          	<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
	            	<span class="icon-bar"></span>
	            	<span class="icon-bar"></span>
	        		<span class="icon-bar"></span>
	        	</a>
	        	<a class="brand" href="#">${beanClass.name}List</a>
				<s:url value="/" var="url_home"/>
	        	<a href="${_}{url_home}" type="button" class="btn btn-info">Back to Welcome Page</a>
	        </div>
	      </div>
	    </div>
	
	    <div class="container">
	    	<s:url value="/${beanClass.name.toLowerCase()}" var="url_form_submit" />
			<form:form modelAttribute="${beanClass.name.toLowerCase()}" cssClass="well" method="PUT" action="${_}{url_form_submit}">
				<table>
#foreach( $field in $beanClass.attributes )
					<tr>
						<th align="left">${field.formatedName(0)}</th>
#if( $field.isKeyElement() && $beanClass.hasCompositePrimaryKey() )
						<td><form:input path="${keyName}.${field.formatedName(0)}"/></td>
#else
						<td><form:input path="${field.formatedName(0)}"/></td>
#end
					</tr>
#end
					<tr>
						<td colspan="2">
							<form:errors/>
						</td>
					</tr>
					<tr>
						<td colspan="2">
						 	<input type="submit" class="btn btn-info" value="Save" />
							<input type="reset" class="btn btn-info" value="Reset" />
							<s:url var="delete${beanClass.name}Url" value="/${beanClass.name.toLowerCase()}/delete${keyURLPath}"/>
							<a class="btn btn-info" href="${_}{delete${beanClass.name}Url}">Delete</a>
							<s:url var="all${beanClass.name}Url" value="/${beanClass.name.toLowerCase()}"/>
							<a class="btn btn-info" href="${_}{all${beanClass.name}Url}">All</a>
						</td>
					</tr>
				</table>
			</form:form>	
	    </div> <!-- /container -->
 	</body>
</html>
